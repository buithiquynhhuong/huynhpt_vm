{"ast":null,"code":"import axiosClient from './axiosClient';\nimport { jwtDecode } from 'jwt-decode';\nconst getUserIdFromToken = () => {\n  const token = localStorage.getItem('token');\n  console.log('Token from localStorage:', token);\n  if (!token) {\n    console.warn('No token found in localStorage');\n    return null;\n  }\n  try {\n    const decoded = jwtDecode(token);\n    console.log('Decoded token:', decoded);\n    if (!decoded.id) {\n      console.warn('No id found in decoded token');\n      return null;\n    }\n    return decoded.id;\n  } catch (error) {\n    console.error('Error decoding token:', error);\n    return null;\n  }\n};\nconst assetTransferApi = {\n  getLogs: params => {\n    const url = '/asset-transfer/logs';\n    return axiosClient.get(url, {\n      params\n    });\n  },\n  importAsset: data => {\n    const url = '/asset-transfer/import';\n    const userId = getUserIdFromToken();\n    const requestData = {\n      ...data,\n      userId\n    };\n    console.log('Import Asset Request Data:', requestData);\n    return axiosClient.post(url, requestData);\n  },\n  exportAsset: data => {\n    const url = '/asset-transfer/export';\n    const userId = getUserIdFromToken();\n    console.log('UserId extracted from token:', userId);\n    if (!userId) {\n      console.error('No userId found from token');\n      throw new Error('Không tìm thấy thông tin người dùng');\n    }\n    const requestData = {\n      ...data,\n      userId\n    };\n    console.log('Final Export Asset Request Data:', requestData);\n    return axiosClient.post(url, requestData);\n  },\n  getInventory: assetId => {\n    const url = `/asset-transfer/inventory/${assetId}`;\n    return axiosClient.get(url);\n  }\n};\nexport default assetTransferApi;","map":{"version":3,"names":["axiosClient","jwtDecode","getUserIdFromToken","token","localStorage","getItem","console","log","warn","decoded","id","error","assetTransferApi","getLogs","params","url","get","importAsset","data","userId","requestData","post","exportAsset","Error","getInventory","assetId"],"sources":["/Users/huynhpt/Desktop/vanminhgroup-main/vanminhgroup-fe/src/api/assetTransferApi.js"],"sourcesContent":["import axiosClient from './axiosClient';\nimport { jwtDecode } from 'jwt-decode';\n\nconst getUserIdFromToken = () => {\n    const token = localStorage.getItem('token');\n    console.log('Token from localStorage:', token);\n    \n    if (!token) {\n        console.warn('No token found in localStorage');\n        return null;\n    }\n    \n    try {\n        const decoded = jwtDecode(token);\n        console.log('Decoded token:', decoded);\n        \n        if (!decoded.id) {\n            console.warn('No id found in decoded token');\n            return null;\n        }\n        \n        return decoded.id;\n    } catch (error) {\n        console.error('Error decoding token:', error);\n        return null;\n    }\n};\n\nconst assetTransferApi = {\n    getLogs: (params) => {\n        const url = '/asset-transfer/logs';\n        return axiosClient.get(url, { params });\n    },\n\n    importAsset: (data) => {\n        const url = '/asset-transfer/import';\n        const userId = getUserIdFromToken();\n        const requestData = { ...data, userId };\n        console.log('Import Asset Request Data:', requestData);\n        return axiosClient.post(url, requestData);\n    },\n\n    exportAsset: (data) => {\n        const url = '/asset-transfer/export';\n        const userId = getUserIdFromToken();\n        console.log('UserId extracted from token:', userId);\n        \n        if (!userId) {\n            console.error('No userId found from token');\n            throw new Error('Không tìm thấy thông tin người dùng');\n        }\n        \n        const requestData = { ...data, userId };\n        console.log('Final Export Asset Request Data:', requestData);\n        return axiosClient.post(url, requestData);\n    },\n\n    getInventory: (assetId) => {\n        const url = `/asset-transfer/inventory/${assetId}`;\n        return axiosClient.get(url);\n    }\n};\n\nexport default assetTransferApi; "],"mappings":"AAAA,OAAOA,WAAW,MAAM,eAAe;AACvC,SAASC,SAAS,QAAQ,YAAY;AAEtC,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAC7B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3CC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEJ,KAAK,CAAC;EAE9C,IAAI,CAACA,KAAK,EAAE;IACRG,OAAO,CAACE,IAAI,CAAC,gCAAgC,CAAC;IAC9C,OAAO,IAAI;EACf;EAEA,IAAI;IACA,MAAMC,OAAO,GAAGR,SAAS,CAACE,KAAK,CAAC;IAChCG,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEE,OAAO,CAAC;IAEtC,IAAI,CAACA,OAAO,CAACC,EAAE,EAAE;MACbJ,OAAO,CAACE,IAAI,CAAC,8BAA8B,CAAC;MAC5C,OAAO,IAAI;IACf;IAEA,OAAOC,OAAO,CAACC,EAAE;EACrB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZL,OAAO,CAACK,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,OAAO,IAAI;EACf;AACJ,CAAC;AAED,MAAMC,gBAAgB,GAAG;EACrBC,OAAO,EAAGC,MAAM,IAAK;IACjB,MAAMC,GAAG,GAAG,sBAAsB;IAClC,OAAOf,WAAW,CAACgB,GAAG,CAACD,GAAG,EAAE;MAAED;IAAO,CAAC,CAAC;EAC3C,CAAC;EAEDG,WAAW,EAAGC,IAAI,IAAK;IACnB,MAAMH,GAAG,GAAG,wBAAwB;IACpC,MAAMI,MAAM,GAAGjB,kBAAkB,CAAC,CAAC;IACnC,MAAMkB,WAAW,GAAG;MAAE,GAAGF,IAAI;MAAEC;IAAO,CAAC;IACvCb,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEa,WAAW,CAAC;IACtD,OAAOpB,WAAW,CAACqB,IAAI,CAACN,GAAG,EAAEK,WAAW,CAAC;EAC7C,CAAC;EAEDE,WAAW,EAAGJ,IAAI,IAAK;IACnB,MAAMH,GAAG,GAAG,wBAAwB;IACpC,MAAMI,MAAM,GAAGjB,kBAAkB,CAAC,CAAC;IACnCI,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAEY,MAAM,CAAC;IAEnD,IAAI,CAACA,MAAM,EAAE;MACTb,OAAO,CAACK,KAAK,CAAC,4BAA4B,CAAC;MAC3C,MAAM,IAAIY,KAAK,CAAC,qCAAqC,CAAC;IAC1D;IAEA,MAAMH,WAAW,GAAG;MAAE,GAAGF,IAAI;MAAEC;IAAO,CAAC;IACvCb,OAAO,CAACC,GAAG,CAAC,kCAAkC,EAAEa,WAAW,CAAC;IAC5D,OAAOpB,WAAW,CAACqB,IAAI,CAACN,GAAG,EAAEK,WAAW,CAAC;EAC7C,CAAC;EAEDI,YAAY,EAAGC,OAAO,IAAK;IACvB,MAAMV,GAAG,GAAG,6BAA6BU,OAAO,EAAE;IAClD,OAAOzB,WAAW,CAACgB,GAAG,CAACD,GAAG,CAAC;EAC/B;AACJ,CAAC;AAED,eAAeH,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}